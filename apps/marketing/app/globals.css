@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply font-sans antialiased bg-background-light text-charcoal;
    @apply dark:bg-background-dark dark:text-gray-100;
    background-image:
      linear-gradient(to right, rgba(99, 102, 241, 0.03) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(99, 102, 241, 0.03) 1px, transparent 1px);
    background-size: 80px 80px;
  }

  .dark body {
    background-image:
      linear-gradient(to right, rgba(99, 102, 241, 0.08) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(99, 102, 241, 0.08) 1px, transparent 1px);
  }

  html {
    @apply scroll-smooth;
  }
}

@layer utilities {

  /* Custom Utilities */
  .glass-nav {
    @apply backdrop-blur-xl bg-white/70 dark:bg-gray-900/70 border border-white/20 dark:border-gray-800/50 shadow-lg;
  }

  .glass-button {
    @apply backdrop-blur-md bg-white/10 dark:bg-white/5 border border-white/20 dark:border-white/10 shadow-xl;
  }

  .dark .glass-nav {
    background: rgba(10, 10, 10, 0.72);
    backdrop-filter: saturate(180%) blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.08);
  }

  .feature-card {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.05);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .dark .feature-card {
    background: #111;
    border: 1px solid rgba(255, 255, 255, 0.05);
  }

  .feature-card:hover {
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.04);
  }

  .ui-snippet {
    background: #f9fafb;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
  }

  .dark .ui-snippet {
    background: #0a0a0a;
    border-color: #1f2937;
  }

  /* Animations */
  .carousel-track {
    display: flex;
    width: fit-content;
    animation: scroll 40s linear infinite;
  }

  @keyframes scroll {
    0% {
      transform: translateX(0);
    }

    100% {
      transform: translateX(-50%);
    }
  }

  @keyframes shimmer {
    0% {
      background-position: 200% 0;
    }

    100% {
      background-position: -200% 0;
    }
  }


  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.8s ease-out forwards;
  }

  .animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
  }

  /* Stagger delays for sequential animations */
  .delay-100 {
    animation-delay: 0.1s;
  }

  .delay-200 {
    animation-delay: 0.2s;
  }

  .delay-300 {
    animation-delay: 0.3s;
  }

  .delay-400 {
    animation-delay: 0.4s;
  }

  .article-title {
    letter-spacing: -0.01em;
    line-height: 1.15;
  }

  /* Responsive Typography */
  .text-responsive-sm {
    @apply text-sm md:text-base;
  }

  .text-responsive-base {
    @apply text-base md:text-lg;
  }

  .text-responsive-lg {
    @apply text-lg md:text-xl;
  }

  .text-responsive-xl {
    @apply text-xl md:text-2xl;
  }

  .text-responsive-2xl {
    @apply text-2xl md:text-3xl lg:text-4xl;
  }

  .text-responsive-3xl {
    @apply text-3xl md:text-4xl lg:text-5xl;
  }

  .text-responsive-4xl {
    @apply text-4xl md:text-5xl lg:text-6xl;
  }

  /* Mobile Spacing Utilities */
  .px-mobile {
    @apply px-4 md:px-6;
  }

  .py-mobile {
    @apply py-8 md:py-12 lg:py-16;
  }

  /* Focus States for Accessibility */
  .focus-primary {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background-light dark:focus-visible:ring-offset-background-dark;
  }

  /* Enhanced Button States */
  .btn-primary {
    @apply bg-primary text-white px-6 py-3 rounded-full font-semibold transition-all duration-300 hover:brightness-110 hover:scale-105 shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 focus-primary disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-secondary {
    @apply glass-button px-6 py-3 rounded-full font-semibold text-charcoal dark:text-white hover:bg-white/20 dark:hover:bg-white/10 hover:scale-105 hover:shadow-xl transition-all duration-300 focus-primary;
  }

  /* Touch-friendly tap targets (min 44x44px) */
  .tap-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }

    .animate-fade-in-up,
    .animate-fade-in,
    .carousel-track {
      animation: none !important;
    }
  }

  /* Enhanced Glassmorphism for better mobile performance */
  @supports (backdrop-filter: blur(20px)) {
    .glass-enhanced {
      @apply backdrop-blur-2xl bg-white/80 dark:bg-gray-900/80 border border-white/30 dark:border-gray-700/50 shadow-2xl;
    }
  }

  /* Mobile Menu Animations */
  @keyframes slideInRight {
    from {
      transform: translateX(100%);
    }
    to {
      transform: translateX(0);
    }
  }

  @keyframes slideOutRight {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(100%);
    }
  }

  /* Loading Spinner */
  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }

  .animate-spin {
    animation: spin 1s linear infinite;
  }

  /* Smooth Scroll Behavior with offset for fixed header */
  html {
    scroll-padding-top: 100px;
  }

  /* Form Input Enhancements */
  input:focus,
  textarea:focus {
    @apply outline-none ring-2 ring-primary border-primary;
  }

  /* Stack layout for mobile */
  .stack-mobile {
    @apply flex flex-col md:flex-row;
  }
}